(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{463:function(v,_,t){v.exports=t.p+"assets/img/databaseInstall.1dfdaae4.png"},486:function(v,_,t){"use strict";t.r(_);var s=t(2),e=Object(s.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"_0-前言"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_0-前言"}},[v._v("#")]),v._v(" 0. 前言")]),v._v(" "),_("p",[v._v("本篇内容将结合检索的资料来"),_("code",[v._v("介绍认识数据库")]),v._v("、"),_("code",[v._v("如何选择数据库")]),v._v("与"),_("code",[v._v("博客项目选择数据库的考量思路")]),v._v("。（安装方式在文末）")]),v._v(" "),_("p",[v._v("本文中可能存在部分专业名词，不会做过多解释，后续将分享相关文章进行讲解。")]),v._v(" "),_("blockquote",[_("p",[v._v("注：本文内容提及的选择思路仅供参考，为个人学习总结。")])]),v._v(" "),_("blockquote",[_("p",[_("a",{attrs:{href:"/notes/noteroot/MiniBlog/%E5%85%B3%E4%BA%8E%E9%A1%B9%E7%9B%AE"}},[v._v("前往系列文章合集")])])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_1-数据库类型与核心特点简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据库类型与核心特点简介"}},[v._v("#")]),v._v(" 1. 数据库类型与核心特点简介")]),v._v(" "),_("p",[v._v("数据库主要分为"),_("code",[v._v("关系型数据库（RDBMS）")]),v._v("​和"),_("code",[v._v("非关系型数据库（NoSQL）")]),v._v("​两大类，各自适用不同场景：")]),v._v(" "),_("h3",{attrs:{id:"_1-1-关系型数据库-rdbms-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-关系型数据库-rdbms-​"}},[v._v("#")]),v._v(" 1.1 关系型数据库（RDBMS）​")]),v._v(" "),_("p",[_("strong",[v._v("【特点】")])]),v._v(" "),_("ul",[_("li",[v._v("数据以"),_("code",[v._v("表格（Table）形式存储")]),v._v("，"),_("strong",[v._v("结构固定")]),v._v("（行、列、字段类型）。")]),v._v(" "),_("li",[v._v("支持"),_("code",[v._v("SQL")]),v._v("语言（标准查询语句），"),_("strong",[v._v("事务性强")]),v._v("（"),_("code",[v._v("ACID")]),v._v("特性："),_("code",[v._v("原子性")]),v._v("、"),_("code",[v._v("一致性")]),v._v("、"),_("code",[v._v("隔离性")]),v._v("、"),_("code",[v._v("持久性")]),v._v("）。")]),v._v(" "),_("li",[v._v("适合需要"),_("code",[v._v("强数据一致性")]),v._v("、复杂查询的场景（比如：用户系统、订单管理）。")])]),v._v(" "),_("p",[_("strong",[v._v("【代表数据库】")])]),v._v(" "),_("ul",[_("li",[_("code",[v._v("MySQL")]),v._v("​：最流行的开源关系型数据库，轻量、易用、生态成熟（与"),_("code",[v._v("PHP")]),v._v("、"),_("code",[v._v("Java")]),v._v("等主流语言深度绑定）。")]),v._v(" "),_("li",[_("code",[v._v("PostgreSQL")]),v._v("​：功能更强大的“全能型”数据库，支持"),_("code",[v._v("JSON")]),v._v("、"),_("code",[v._v("地理信息")]),v._v("、"),_("code",[v._v("自定义类型")]),v._v("等扩展，适合复杂业务。")]),v._v(" "),_("li",[_("code",[v._v("SQLite")]),v._v("​：嵌入式数据库（无需服务端），文件级存储，适合小型应用或本地测试（如工具类CLI程序）。")])]),v._v(" "),_("blockquote",[_("p",[_("code",[v._v("Go")]),v._v("适配性​："),_("code",[v._v("Go")]),v._v("标准库"),_("code",[v._v("database/sql")]),v._v("原生支持"),_("code",[v._v("SQL")]),v._v("接口，配合驱动（如"),_("code",[v._v("go-sql-driver/mysql")]),v._v("）可轻松操作关系型数据库。")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"_1-2-非关系型数据库-nosql"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-非关系型数据库-nosql"}},[v._v("#")]),v._v(" 1.2 非关系型数据库（NoSQL）")]),v._v(" "),_("p",[_("strong",[v._v("【特点】")])]),v._v(" "),_("ul",[_("li",[v._v("数据结构灵活（键值、文档、列族、图等），无需预定义"),_("code",[v._v("Schema")]),v._v("。")]),v._v(" "),_("li",[v._v("读写性能高（尤其是内存型数据库），适合"),_("strong",[v._v("高并发")]),v._v("、海量数据场景。")]),v._v(" "),_("li",[v._v("事务支持较弱（部分数据库支持分布式事务），适合对一致性要求不高的场景（如缓存、日志存储）。")])]),v._v(" "),_("p",[_("strong",[v._v("【代表数据库】")])]),v._v(" "),_("ul",[_("li",[_("code",[v._v("Redis")]),v._v("​："),_("strong",[v._v("内存键值数据库")]),v._v("，支持持久化，读写速度极快（"),_("code",[v._v("QPS可达10万+")]),v._v("），适合缓存、会话存储、计数器；")]),v._v(" "),_("li",[_("code",[v._v("​MongoDB")]),v._v("​："),_("strong",[v._v("文档型数据库")]),v._v("（存储"),_("code",[v._v("BSON格")]),v._v("式，类似"),_("code",[v._v("JSON")]),v._v("），适合半结构化数据（如用户行为日志、内容管理系统）；")]),v._v(" "),_("li",[_("code",[v._v("​Cassandra")]),v._v("​："),_("strong",[v._v("列族数据库")]),v._v("，高扩展性，适合海量数据写入（如物联网传感器数据）。")])]),v._v(" "),_("blockquote",[_("p",[_("code",[v._v("Go")]),v._v("适配性​："),_("code",[v._v("Go")]),v._v("对"),_("code",[v._v("NoSQL")]),v._v("的支持依赖第三方驱动（如"),_("code",[v._v("go-redis/redis")]),v._v("操作"),_("code",[v._v("Redis")]),v._v("，"),_("code",[v._v("mongo-go-driver")]),v._v("操作"),_("code",[v._v("MongoDB")]),v._v("），社区生态完善。")])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_2-go-语言开发场景下的选择"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-go-语言开发场景下的选择"}},[v._v("#")]),v._v(" 2. Go 语言开发场景下的选择")]),v._v(" "),_("blockquote",[_("p",[v._v("由于本人当前所从事的是"),_("code",[v._v("Go")]),v._v("语言进行后端开发，因此，此处先从"),_("code",[v._v("Go")]),v._v("开发场景来考虑。后文会介绍一般的选择思路。")]),v._v(" "),_("p",[v._v("注：具体结合项目类型与数据选择，这里从开发"),_("code",[v._v("MiniBlog项目")]),v._v("来进行选择。")])]),v._v(" "),_("p",[v._v("根据"),_("code",[v._v("Go")]),v._v("开发的常见需求（"),_("code",[v._v("Web后端")]),v._v("、"),_("code",[v._v("API服务")]),v._v("、"),_("code",[v._v("工具类应用")]),v._v("），项目开发选择排序（按优先级排序）：")]),v._v(" "),_("ol",[_("li",[_("strong",[v._v("首选："),_("code",[v._v("MySQL")]),v._v("（或"),_("code",[v._v("MariaDB")]),v._v("）​")])])]),v._v(" "),_("p",[_("strong",[v._v("【选择原因】")])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("生态成熟")]),v._v("​：全球使用最广的关系型数据库，与"),_("code",[v._v("Go")]),v._v("的"),_("code",[v._v("database/sql")]),v._v("接口深度兼容，驱动（如"),_("code",[v._v("go-sql-driver/mysql")]),v._v("）稳定。")]),v._v(" "),_("li",[v._v("学习成本低​：SQL语法通用，新手易上手，适合快速实现CRUD（增删改查）功能。")]),v._v(" "),_("li",[v._v("轻量高效​：安装包小（~50MB），配置简单，适合个人项目或小型服务。")]),v._v(" "),_("li",[v._v("社区支持强​：遇到问题容易找到解决方案（比如："),_("code",[v._v("各种AI")]),v._v("、"),_("code",[v._v("Stack Overflow")]),v._v("、"),_("code",[v._v("官方文档")]),v._v("）。")])]),v._v(" "),_("blockquote",[_("p",[_("strong",[v._v("【使用场景】")]),v._v("：用户系统、订单管理、博客平台等需要强数据一致性的业务。")])]),v._v(" "),_("ol",{attrs:{start:"2"}},[_("li",[_("strong",[v._v("次选："),_("code",[v._v("PostgreSQL")])])])]),v._v(" "),_("p",[_("strong",[v._v("【选择原因】")])]),v._v(" "),_("ul",[_("li",[v._v("​功能更全面​：支持JSONB（高性能JSON存储）、GIS（地理信息）、全文搜索等高级特性，适合需要复杂查询的场景。")]),v._v(" "),_("li",[v._v("​扩展性强​：支持自定义函数、存储过程，可替代部分NoSQL的功能（如"),_("code",[v._v("MongoDB")]),v._v("的文档存储）。")]),v._v(" "),_("li",[v._v("​事务更严格​：对"),_("code",[v._v("ACID")]),v._v("的支持比"),_("code",[v._v("MySQL")]),v._v("更彻底（如可重复读隔离级别下无幻读问题）。")])]),v._v(" "),_("blockquote",[_("p",[_("strong",[v._v("【使用场景】")]),v._v("：需要复杂查询（如多表JOIN、地理信息筛选）、或未来可能扩展的中大型项目。")])]),v._v(" "),_("ol",{attrs:{start:"3"}},[_("li",[_("strong",[v._v("缓存/高性能场景："),_("code",[v._v("Redis")])])])]),v._v(" "),_("p",[_("strong",[v._v("【选择原因】")])]),v._v(" "),_("ul",[_("li",[v._v("速度极快​：数据存储在内存中，读写延迟仅微秒级，"),_("strong",[v._v("适合作为缓存层减少数据库压力")]),v._v("。")]),v._v(" "),_("li",[v._v("​功能丰富​：支持字符串、哈希、列表、集合等数据结构，支持发布订阅、过期策略。")]),v._v(" "),_("li",[_("code",[v._v("​Go")]),v._v("集成友好​：官方推荐驱动"),_("code",[v._v("go-redis/redis")]),v._v("功能完善，支持连接池、管道等优化。")])]),v._v(" "),_("p",[_("strong",[v._v("【使用场景】")])]),v._v(" "),_("ul",[_("li",[v._v("缓存高频访问的数据（如用户信息、商品详情）。")]),v._v(" "),_("li",[v._v("会话存储（替代"),_("code",[v._v("Cookie")]),v._v("，跨设备同步）。")]),v._v(" "),_("li",[v._v("计数器（如点赞数、访问量）。")])]),v._v(" "),_("hr"),v._v(" "),_("ol",{attrs:{start:"4"}},[_("li",[_("strong",[v._v("文档型需求："),_("code",[v._v("MongoDB")])]),v._v(" "),_("strong",[v._v("【选择原因】")])])]),v._v(" "),_("ul",[_("li",[v._v("灵活"),_("code",[v._v("Schema")]),v._v("​：无需预定义字段，适合半结构化数据（如用户行为日志、内容管理系统）；")]),v._v(" "),_("li",[v._v("​读写性能高​：支持索引优化，适合海量数据写入（如IoT设备上报数据）；")]),v._v(" "),_("li",[_("code",[v._v("​Go")]),v._v("驱动成熟​：官方驱动"),_("code",[v._v("mongo-go-driver")]),v._v("支持"),_("code",[v._v("CRUD")]),v._v("、聚合查询等操作。")])]),v._v(" "),_("blockquote",[_("p",[_("strong",[v._v("【使用场景】")]),v._v("：内容管理（如博客文章、评论）、日志存储、需要快速迭代的敏捷项目（避免频繁修改表结构）。")])]),v._v(" "),_("hr"),v._v(" "),_("blockquote",[_("p",[v._v("在使用"),_("code",[v._v("Go")]),v._v("开发"),_("code",[v._v("MiniBlog")]),v._v("中将选择"),_("code",[v._v("MySQL")]),v._v("和"),_("code",[v._v("Redis")]),v._v("。")])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_3-数据库选择的关键考量维度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-数据库选择的关键考量维度"}},[v._v("#")]),v._v(" 3. 数据库选择的关键考量维度")]),v._v(" "),_("p",[v._v("选择数据库时需要考虑如下6个关键问题：")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("维度")])]),v._v(" "),_("th",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("问题描述")])]),v._v(" "),_("th",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("大厂使用案例")])])])]),v._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("1.数据模型")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("数据：结构化（固定表结构）OR 非结构化（如：JSON、日志）")]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("Mysql（结构化）-> GitHub用户表；MongoDB（非结构化）-> Netflix剧集元数据")])]),v._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("2.事物需求")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("是否需要"),_("strong",[v._v("强一致性")]),v._v("（如：转账）三是否需要"),_("code",[v._v("ACID特性")]),v._v("？")]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("PostgreSQL（强ACID）→ Apple App Store支付系统；Redis（弱事务）→ 微博点赞计数")])]),v._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("3.性能需求")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("读写频率多高？单表数据量多大？是否需要低延时（如：毫秒级响应）？")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("Redis（百万QPS）→ Twitter实时消息缓存；Cassandra（亿级写入）→ IoT设备数据存储")])]),v._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("4.拓展性")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("数据量是否爆炸式增长？是否需要水平拓展（分库分表）？")]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("Cassandra（线性扩展）→ 亚马逊商品评论；MySQL（垂直扩展为主）→ 中小型电商订单")])]),v._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("5.生态与工具链")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("团队是否熟悉该数据库？")]),v._v(" 是否有成熟的ORM/工具支持（如Go的driver）？")]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("MySQL（生态成熟）→ 几乎所有Go项目；PostgreSQL（JSONB支持）→ 内容管理系统")])]),v._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[_("strong",[v._v("6.成本")])]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("硬件/云服务成本？维护复杂度（如主从复制、备份）？")]),v._v(" "),_("td",{staticStyle:{"text-align":"left"}},[v._v("SQLite（零成本）→ 本地工具；Redis（内存成本）→ 高频缓存场景")])])])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_4-分场景详解-如何根据需求匹配数据库-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-分场景详解-如何根据需求匹配数据库-​"}},[v._v("#")]),v._v(" 4. 分场景详解：如何根据需求匹配数据库？​")]),v._v(" "),_("h3",{attrs:{id:"场景1-结构化数据-强事务-如用户系统、订单管理-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#场景1-结构化数据-强事务-如用户系统、订单管理-​"}},[v._v("#")]),v._v(" 场景1：结构化数据 + 强事务（如用户系统、订单管理）​")]),v._v(" "),_("p",[_("strong",[v._v("【典型特征】")])]),v._v(" "),_("ul",[_("li",[v._v("数据以表格形式存储（用户ID、姓名、订单余额）。")]),v._v(" "),_("li",[v._v("需要保证事物的"),_("code",[v._v("ACID特性")]),v._v("（如："),_("strong",[v._v("“下单 -> 扣库存 -> 支付”")]),v._v("，必须原子性）。")]),v._v(" "),_("li",[v._v("数据量中等（"),_("strong",[v._v("单库单表千万级以内")]),v._v("），无需复杂扩张。")])]),v._v(" "),_("p",[_("strong",[v._v("【推荐数据库】")]),v._v("："),_("code",[v._v("MySQL")]),v._v(" / "),_("code",[v._v("MariaDB")])]),v._v(" "),_("p",[_("strong",[v._v("【选择依据】")])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("数据模型匹配")]),v._v("​："),_("code",[v._v("MySQL")]),v._v("是典型的关系型数据库，支持标准"),_("code",[v._v("SQL")]),v._v("，完美适配结构化数据。")]),v._v(" "),_("li",[_("strong",[v._v("事务支持")]),v._v("​："),_("code",[v._v("MySQL")]),v._v(" "),_("code",[v._v("InnoDB")]),v._v("引擎支持"),_("code",[v._v("ACID")]),v._v("，GitHub（2023年数据）的"),_("code",[v._v("MySQL")]),v._v("集群处理了每天数十亿次事务（如用户关注、Issue提交）。")]),v._v(" "),_("li",[_("strong",[v._v("​生态成熟")]),v._v("​：如"),_("code",[v._v("Go")]),v._v("开发，"),_("code",[v._v("Go")]),v._v("的"),_("code",[v._v("database/sql")]),v._v("+"),_("code",[v._v("go-sql-driver/mysql")]),v._v("驱动稳定，配合"),_("code",[v._v("ORM")]),v._v("（如"),_("code",[v._v("GORM")]),v._v("）可快速实现"),_("code",[v._v("CRUD")]),v._v("。")]),v._v(" "),_("li",[_("strong",[v._v("成本可控")]),v._v("​：单实例硬件成本约500元/月（4核8G），适合中小型项目。")])]),v._v(" "),_("p",[_("strong",[v._v("【大厂案例】")]),v._v("（"),_("code",[v._v("网络数据")]),v._v("）")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("GitHub")]),v._v("：早期用"),_("code",[v._v("MySQL")]),v._v("存储用户、仓库、Issue等核心数据，通过分库分表支撑亿级用户。")]),v._v(" "),_("li",[_("strong",[v._v("腾讯")]),v._v("：微信支付系统使用"),_("code",[v._v("MySQL")]),v._v("集群，通过主从复制+读写分离保证高可用。")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"场景2-复杂查询-半结构化数据-如内容管理、日志分析-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#场景2-复杂查询-半结构化数据-如内容管理、日志分析-​"}},[v._v("#")]),v._v(" 场景2：复杂查询 + 半结构化数据（如内容管理、日志分析）​")]),v._v(" "),_("p",[_("strong",[v._v("【典型特征】")])]),v._v(" "),_("ul",[_("li",[v._v("数据结构不固定（如文章可能带标签、评论、多媒体链接）。")]),v._v(" "),_("li",[v._v("需要复杂查询（如多表JOIN、全文搜索、地理信息筛选）。")]),v._v(" "),_("li",[v._v("数据量较大（单表亿级），需要扩展性。")])]),v._v(" "),_("p",[_("strong",[v._v("【推荐数据库】")]),v._v("："),_("code",[v._v("PostgreSQL")])]),v._v(" "),_("p",[_("strong",[v._v("【选择依据】")])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("​数据模型灵活")]),v._v("​：支持"),_("code",[v._v("JSONB")]),v._v("（高性能"),_("code",[v._v("JSON")]),v._v("存储）、数组、范围类型，可替代部分"),_("code",[v._v("NoSQL")]),v._v("场景。")]),v._v(" "),_("li",[_("strong",[v._v("查询能力强")]),v._v("​：支持CTE（公共表表达式）、窗口函数、全文搜索（tsvector），"),_("code",[v._v("Netflix")]),v._v("用"),_("code",[v._v("PostgreSQL")]),v._v("分析用户观看行为（如“连续观看3集以上的用户”）。")]),v._v(" "),_("li",[_("strong",[v._v("扩展性优秀")]),v._v("​：支持自定义函数（"),_("code",[v._v("PL/pgSQL")]),v._v("）、分区表（解决亿级数据查询慢问题）。")]),v._v(" "),_("li",[_("strong",[v._v("事务可靠​")]),v._v("​："),_("code",[v._v("ACID")]),v._v("支持比"),_("code",[v._v("MySQL")]),v._v("更严格（如可重复读隔离级别无幻读）。")])]),v._v(" "),_("p",[_("strong",[v._v("【大厂案例】")]),v._v("（"),_("code",[v._v("网络数据")]),v._v("）")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("Apple")]),v._v("："),_("code",[v._v("App Store")]),v._v("的评论系统使用"),_("code",[v._v("PostgreSQL")]),v._v("，通过"),_("code",[v._v("JSONB")]),v._v("存储动态评论内容（如图片、链接）。")]),v._v(" "),_("li",[_("strong",[v._v("Spotify")]),v._v("：用户歌单元数据存储在"),_("code",[v._v("PostgreSQL")]),v._v("，支持快速查询“某歌手的热门歌单”。")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"场景3-高性能缓存-会话存储-如高频数据读取、会话共享-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#场景3-高性能缓存-会话存储-如高频数据读取、会话共享-​"}},[v._v("#")]),v._v(" 场景3：高性能缓存/会话存储（如高频数据读取、会话共享）​")]),v._v(" "),_("p",[_("strong",[v._v("【典型特征】")])]),v._v(" "),_("ul",[_("li",[v._v("数据读写频率极高（QPS需达10万+）。")]),v._v(" "),_("li",[v._v("数据生命周期短（如缓存过期自动删除）。")]),v._v(" "),_("li",[v._v("需要低延迟（响应时间<1ms）。")])]),v._v(" "),_("p",[_("strong",[v._v("【推荐数据库】")]),v._v("："),_("code",[v._v("Redis")])]),v._v(" "),_("p",[_("strong",[v._v("【选择依据】")])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("​性能极致")]),v._v("​：内存存储+单线程模型（避免锁竞争），官方测试"),_("code",[v._v("QPS")]),v._v("可达10万+（读）/8万+（写）。")]),v._v(" "),_("li",[_("strong",[v._v("​数据结构丰富​")]),v._v("：支持字符串、哈希（如用户信息）、列表（如消息队列）、集合（如去重标签）。")]),v._v(" "),_("li",[_("strong",[v._v("​持久化可选")]),v._v("​："),_("code",[v._v("RDB")]),v._v("（快照）+"),_("code",[v._v("AOF")]),v._v("（日志）保证数据不丢失（适合会话存储）。")])]),v._v(" "),_("blockquote",[_("p",[_("strong",[_("code",[v._v("​Go")]),v._v("开发中集成友好")]),v._v("​："),_("code",[v._v("go-redis/redis")]),v._v("驱动支持连接池、管道（Pipeline），减少网络开销。")])]),v._v(" "),_("p",[_("strong",[v._v("【大厂案例】")]),v._v("（"),_("code",[v._v("网络数据")]),v._v("）")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("Twitter")]),v._v("：用"),_("code",[v._v("Redis")]),v._v("缓存用户时间线（每条推文被百万次读取），降低"),_("code",[v._v("MySQL")]),v._v("压力。")]),v._v(" "),_("li",[_("strong",[v._v("微博")]),v._v("：用户登录态（"),_("code",[v._v("Session")]),v._v("）存储在"),_("code",[v._v("Redis")]),v._v("，支持全国多机房快速同步。")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"场景4-海量数据写入-高扩展性-如iot传感器、日志收集-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#场景4-海量数据写入-高扩展性-如iot传感器、日志收集-​"}},[v._v("#")]),v._v(" 场景4：海量数据写入 + 高扩展性（如IoT传感器、日志收集）​")]),v._v(" "),_("p",[_("strong",[v._v("【典型特征】")])]),v._v(" "),_("ul",[_("li",[v._v("据量极大（单表日均写入亿级）。")]),v._v(" "),_("li",[v._v("写入频率高（每秒数千条），但查询简单（如按时间范围查询）。")]),v._v(" "),_("li",[v._v("需要水平扩展（增加节点即可提升容量）。")])]),v._v(" "),_("p",[_("strong",[v._v("【推荐数据库】")]),v._v("："),_("code",[v._v("Cassandra")]),v._v(" / "),_("code",[v._v("ScyllaDB")])]),v._v(" "),_("p",[_("strong",[v._v("【选择依据】")])]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("线性扩展")]),v._v("​："),_("code",[v._v("Cassandra")]),v._v("通过分布式架构，添加节点可线性提升读写能力（亚马逊用其存储商品评论，支撑亿级日活）。")]),v._v(" "),_("li",[v._v("​"),_("strong",[v._v("高写入性能​")]),v._v("：采用"),_("code",[v._v("LSM")]),v._v("树（"),_("code",[v._v("Log-Structured Merge-Tree")]),v._v("）存储引擎，写入先存内存再刷盘，适合IoT设备高频上报数据。")]),v._v(" "),_("li",[v._v("​"),_("strong",[v._v("无单点故障")]),v._v("​：数据多副本存储（默认3副本），单节点宕机不影响服务。")])]),v._v(" "),_("p",[_("strong",[v._v("【大厂案例】")]),v._v("（"),_("code",[v._v("网络数据")]),v._v("）")]),v._v(" "),_("ul",[_("li",[v._v("亚马逊：商品评论系统使用"),_("code",[v._v("Cassandra")]),v._v("，日均处理数亿条用户评论。")]),v._v(" "),_("li",[v._v("特斯拉：车辆传感器数据（如车速、电池状态）存储在"),_("code",[v._v("ScyllaDB")]),v._v("（"),_("code",[v._v("Cassandra")]),v._v("分支），支持实时分析。")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"场景5-文档型数据-快速迭代-如博客、cms系统-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#场景5-文档型数据-快速迭代-如博客、cms系统-​"}},[v._v("#")]),v._v(" 场景5：文档型数据 + 快速迭代（如博客、CMS系统）​")]),v._v(" "),_("p",[_("strong",[v._v("【典型特征】")])]),v._v(" "),_("ul",[_("li",[v._v("数据以文档形式存储（如"),_("code",[v._v("JSON格")]),v._v("式的博客文章，包含标题、作者、标签）。")]),v._v(" "),_("li",[v._v("需要灵活"),_("code",[v._v("Schema")]),v._v("（新增字段无需修改表结构）。")]),v._v(" "),_("li",[v._v("开发周期短（需快速上线，避免频繁"),_("code",[v._v("DDL")]),v._v("操作）。")])]),v._v(" "),_("p",[_("strong",[v._v("【推荐数据库】")]),v._v("："),_("code",[v._v("MongoDB")])]),v._v(" "),_("p",[_("strong",[v._v("【选择依据】")])]),v._v(" "),_("ul",[_("li",[_("strong",[_("code",[v._v("Schema")]),v._v("灵活")]),v._v("​：无需预定义字段，新增字段自动生效（适合博客文章的动态标签）。")]),v._v(" "),_("li",[_("strong",[v._v("开发效率高")]),v._v("​：支持"),_("code",[v._v("JSON")]),v._v("查询语法，"),_("code",[v._v("Go")]),v._v("的"),_("code",[v._v("mongo-go-driver")]),v._v("可直接操作"),_("code",[v._v("BSON")]),v._v("（二进制"),_("code",[v._v("JSON")]),v._v("）。")]),v._v(" "),_("li",[_("strong",[v._v("索引优化​")]),v._v("：支持复合索引、文本索引（如按文章标题搜索），满足大部分查询需求。")])]),v._v(" "),_("p",[_("strong",[v._v("【大厂案例】")]),v._v("（"),_("code",[v._v("网络数据")]),v._v("）")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("Netflix")]),v._v("：用"),_("code",[v._v("MongoDB")]),v._v("存储剧集元数据（如导演、演员、简介），支持快速迭代的内容管理后台。")]),v._v(" "),_("li",[_("strong",[v._v("腾讯文档")]),v._v("：早期用"),_("code",[v._v("MongoDB")]),v._v("存储文档内容（如文字、表格），通过分片（"),_("code",[v._v("Sharding")]),v._v("）支持海量文档存储。")])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_5-决策流程图-附具体判断步骤-​"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-决策流程图-附具体判断步骤-​"}},[v._v("#")]),v._v(" 5. 决策流程图（附具体判断步骤）​")]),v._v(" "),_("p",[_("img",{attrs:{src:t(463),alt:"数据库选择决策流程图"}})]),v._v(" "),_("p",[v._v("【示例应用】​：\n假设你要做一个“在线博客系统”：")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("数据结构")]),v._v("：文章（标题、作者、内容、标签）→ 结构化；")]),v._v(" "),_("li",[_("strong",[v._v("事务需求")]),v._v("：无强事务（发文章无需扣库存）→ 弱事务；")]),v._v(" "),_("li",[_("strong",[v._v("性能要求")]),v._v("：日均10万次阅读（读多写少）→ 读性能要求中等；")]),v._v(" "),_("li",[_("strong",[v._v("扩展性")]),v._v("：初期数据量小（10万篇文章）→ 无需水平扩展；")]),v._v(" "),_("li",[_("strong",[v._v("结论")]),v._v("：选"),_("code",[v._v("MySQL")]),v._v("（或"),_("code",[v._v("PostgreSQL")]),v._v("，若未来需要全文搜索）。")])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_6-总结-选择的核心原则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-总结-选择的核心原则"}},[v._v("#")]),v._v(" 6. 总结：选择的核心原则")]),v._v(" "),_("ol",[_("li",[_("strong",[v._v("匹配数据模型")]),v._v("​：结构化数据优先关系型（"),_("code",[v._v("MySQL")]),v._v("/"),_("code",[v._v("PostgreSQL")]),v._v("），非结构化选文档型（"),_("code",[v._v("MongoDB")]),v._v("）或键值型（"),_("code",[v._v("Redis")]),v._v("）；")]),v._v(" "),_("li",[_("strong",[v._v("​事务优先级")]),v._v("​：强事务（如支付）选"),_("code",[v._v("PostgreSQL")]),v._v("/"),_("code",[v._v("MySQL InnoDB")]),v._v("，弱事务（如缓存）选"),_("code",[v._v("Redis")]),v._v("；")]),v._v(" "),_("li",[_("strong",[v._v("​性能与扩展性")]),v._v("​：高频读写选"),_("code",[v._v("Redis")]),v._v("/"),_("code",[v._v("Cassandra")]),v._v("，海量写入选"),_("code",[v._v("Cassandra")]),v._v("，快速迭代选"),_("code",[v._v("MongoDB")]),v._v("；")]),v._v(" "),_("li",[_("strong",[v._v("生态与成本")]),v._v("​：优先选团队熟悉的（如"),_("code",[v._v("Go")]),v._v("开发者更熟悉"),_("code",[v._v("MySQL")]),v._v("），云服务可选托管版（如"),_("code",[v._v("AWS RDS for MySQL")]),v._v("）降低维护成本。")])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"_7-mysql和redis安装"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7-mysql和redis安装"}},[v._v("#")]),v._v(" 7. MySQL和Redis安装")]),v._v(" "),_("h3",{attrs:{id:"_7-1-安装mysql"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-安装mysql"}},[v._v("#")]),v._v(" 7.1 安装MySQL")]),v._v(" "),_("div",{staticClass:"language-bash extra-class"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 更新包列表")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("apt")]),v._v(" update\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 安装MySQL服务端和客户端")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("apt")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("install")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-y")]),v._v(" mysql-server mysql-client\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 启动并设置开机自启")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" systemctl start mysql\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" systemctl "),_("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("enable")]),v._v(" mysql\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 验证安装（登录MySQL）")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" mysql "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-u")]),v._v(" root "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-p")]),v._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 输入安装时设置的root密码（首次安装无密码，直接回车）")]),v._v("\n")])])]),_("blockquote",[_("p",[v._v("注意​：MySQL 8.0+默认启用强密码策略，首次登录可能需要修改root密码（按提示操作）。")])]),v._v(" "),_("hr"),v._v(" "),_("h3",{attrs:{id:"_7-2-安装redis"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-安装redis"}},[v._v("#")]),v._v(" 7.2 安装Redis")]),v._v(" "),_("div",{staticClass:"language-bash extra-class"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 添加Redis仓库（可选，获取最新稳定版）")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" add-apt-repository "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-y")]),v._v(" ppa:redislabs/redis\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("apt")]),v._v(" update\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 安装Redis服务端（自动包含客户端工具）")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("apt")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("install")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-y")]),v._v(" redis-server\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 输出版本号即成功（如 Redis server v=7.4.1）")]),v._v("\nredis-cli "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("--version")]),v._v("  \n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 演示：start ----------------------------------------------------------------------------------")]),v._v("\nmortal@vm:/tmp$ redis-cli "),_("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("--version")]),v._v("\nredis-cli "),_("span",{pre:!0,attrs:{class:"token number"}},[v._v("7.4")]),v._v(".1 "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 版本号")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 演示：end ----------------------------------------------------------------------------------")]),v._v("\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 启动并设置开机自启")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" systemctl start redis-server\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" systemctl "),_("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("enable")]),v._v(" redis-server\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 验证安装（连接Redis）")]),v._v("\nredis-cli "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("ping")]),v._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 输出PONG表示成功")]),v._v("\n")])])]),_("hr")])}),[],!1,null,null,null);_.default=e.exports}}]);